#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define BUFF 128
#define SIZE 3

void copy(char *path, char *dir);

int main(void) {

	char dir[BUFF];
	FILE *result = popen("pwd","r");
	if (result != NULL)
		while(fgets(dir, BUF, result) != NULL);
	else return 0;
	
	char *dirs[SIZE] = {
		"/home/user/Golang/",
		"/home/user/Python/",
		"/home/user/Templates/TEST/"
	};

	for (unsigned short index = 0; index < SIZE; index++)
		copy(dirs[index], dir);

	return 0;
}

void copy(char *path, char *dir) {
	char *command = "cp -r ";

	unsigned short lengthCommand = 6;
	unsigned short lengthPath = strlen(path);
	unsigned short lengthDir = strlen(dir);

	char buffer[lengthCommand + lengthPath + 1 + lengthDir + 1];

	for (unsigned short index = 0; index < lengthCommand; buffer[index++] = command[index]);

	for (unsigned short index = lengthCommand, twindex = 0; twindex < lengthPath; buffer[index++] = path[twindex++]);

	buffer[lengthCommand + lengthPath] = ' ';

	for (unsigned short index = lengthCommand + lengthPath + 1, twindex = 0; twindex < lengthDir; buffer[index++] = dir[twindex++]);

	buffer[lengthCommand + lengthPath + 1 + lengthDir] = '\0';

	system(buffer);
}
